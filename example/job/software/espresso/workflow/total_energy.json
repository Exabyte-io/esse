{
    "$extend": {
        "name": "../../../theory/dft/pseudopotential/workflow/convergence.json"
    },
    "$replace": [
        {
            "where": {
                "key": "units",
                "idx": 4
            },
            "with": "$this.units"
        },
        {
            "where": {
                "key": "app"
            },
            "with": "espresso"
        }
    ],
    "units": [
        {
            "type": "compute",
            "flowchartId": "extract_characteristic",
            "next": "assign_scalar_globally",
            "app": {
                "flavor": "pw_scf",
                "version": "5.1.1",
                "name": "espresso",
                "exec": "pw.x"
            },
            "results": [
                {
                    "name": "total_energy"
                }
            ],
            "monitors": [
                {
                    "name": "scf_accuracy"
                },
                {
                    "name": "standard_output"
                }
            ],
            "input": [
                {
                    "content": "include_text(pw_scf.in)",
                    "name": "pw_scf.in"
                }
            ]
        },
        {
            "type": "assignment",
            "flowchartId": "assign_scalar_globally",
            "next": "check_convergence",
            "assignment": {
                "input": [
                    {
                        "scope": "extract_characteristic",
                        "name": "total_energy"
                    }
                ],
                "name": "SCALAR_RESULT",
                "value": "total_energy"
            }
        }
    ]
}
